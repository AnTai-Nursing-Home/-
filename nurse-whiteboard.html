<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>è­·ç†å¸«ç³»çµ±ï½œé›»å­ç™½æ¿</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

  <style>
    *{ box-sizing:border-box; }
    :root{
      --wb-gap: 12px;
      --wb-border: #d9d9d9;
      --wb-bg: #ffffff;
      --wb-muted: #666;
      --wb-card: #f9fafb;
      --wb-pill: #eef2ff;
      --wb-pill-border:#c7d2fe;
    }
    body{ background:#f3f4f6; }
    .wb-wrap{ max-width: 1280px; margin: 0 auto; padding: 16px; }

    .wb-topbar{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom: 10px;
    }
    .wb-title{ font-size: 18px; font-weight: 800; }
    .wb-actions{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .wb-actions .form-control, .wb-actions .form-select{ height: 34px; padding: 4px 10px; }

    .board{
      background: var(--wb-bg);
      border: 1px solid var(--wb-border);
      border-radius: 14px;
      padding: var(--wb-gap);
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
      aspect-ratio: 16 / 9;
      min-height: 620px;
      width: 100%;
      min-width: 0;
    }
    .board-grid{
      height:100%;
      display:grid;
      grid-template-rows: 3fr 1fr;
      gap: var(--wb-gap);
      min-height: 0;
      min-width: 0;
    }

    .upper{
      display:grid;
      grid-template-columns: 4fr 0.85fr;
      grid-template-rows: auto 1fr;
      grid-template-areas:
        "info info"
        "left notes";
      gap: var(--wb-gap);
      min-height: 0;
      min-width: 0;
    }

    .panel{
      border: 1px solid var(--wb-border);
      border-radius: 12px;
      padding: 10px;
      background: var(--wb-card);
      min-height: 0;
      min-width: 0;
      width: 100%;
    }

    /* å·¦ä¸Šå¤§å€å¡Šï¼šè³‡è¨Šåˆ— + æ—©/åˆ */
    .upper-left{
      grid-area: left;
      display:block;
      min-height: 0;
      min-width: 0;
    }

    /* v5.2ï¼šè³‡è¨Šåˆ—è·¨å…©æ¬„ï¼Œé¿å…è¢«å‚™è¨»æ“ å£“ */
    .info-panel{
      grid-area: info;
      background: transparent;
      border: none;
      padding: 0;
      box-shadow: none;
    }

    /* v5.2ï¼šå‚™è¨»ä»åœ¨å³å´ï¼Œä½†å¾€ä¸‹ç¸®çŸ­é«˜åº¦ï¼Œè®“å‡ºç©ºé–“çµ¦è³‡è¨Šæ–¹å¡Š */
    .notes{
      grid-area: notes;
      align-self: start;
    }
    .notes textarea.wb-text{
      height: 190px;
      min-height: 190px;
    }


    /* v4.7ï¼šæ—¥æœŸ/æ™‚é–“/å¤©æ°£/æº«åº¦ å„ä¸€æ ¼ */
    .info-strip{
      display:grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: var(--wb-gap);
      align-items:stretch;
      min-width: 0;
    }

    .info-card{
      border-radius: 14px;
      padding: 10px 12px;
      min-width: 0;
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 6px 18px rgba(0,0,0,.08);
      color:#0b1220;
      background: #fff;
    }

    /* è®“æ¯æ ¼æœ‰æ˜é¡¯ã€ä½†ä¸åˆºçœ¼çš„ä¸»é¡ŒèƒŒæ™¯ï¼ˆç™½å¤©ï¼‰ */
    .info-card::before{
      content:"";
      position:absolute;
      inset:-40px -40px auto auto;
      width:180px;
      height:180px;
      border-radius: 999px;
      opacity:.35;
      filter: blur(0px);
      transform: rotate(12deg);
      pointer-events:none;
    }
    .info-card::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(120px 80px at 18% 18%, rgba(255,255,255,.55), rgba(255,255,255,0) 60%),
        linear-gradient(135deg, rgba(255,255,255,.28), rgba(255,255,255,0));
      opacity:.55;
      pointer-events:none;
    }

    .info-card.info-date{
      background: linear-gradient(135deg, #e0f2fe 0%, #ffffff 55%, #e0f2fe 100%);
      border-color:#7dd3fc;
    }
    .info-card.info-date::before{ background: radial-gradient(circle at 30% 30%, #38bdf8, rgba(56,189,248,0)); }

    .info-card.info-time{
      background: linear-gradient(135deg, #ede9fe 0%, #ffffff 55%, #ede9fe 100%);
      border-color:#a78bfa;
    }
    .info-card.info-time::before{ background: radial-gradient(circle at 30% 30%, #8b5cf6, rgba(139,92,246,0)); }

    .info-card.info-weather{
      background: linear-gradient(135deg, #fff7ed 0%, #ffffff 55%, #fff7ed 100%);
      border-color:#fb923c;
    }
    .info-card.info-weather::before{ background: radial-gradient(circle at 30% 30%, #f59e0b, rgba(245,158,11,0)); }

    .info-card.info-temp{
      background: linear-gradient(135deg, #fee2e2 0%, #ffffff 55%, #fee2e2 100%);
      border-color:#f87171;
    }
    .info-card.info-temp::before{ background: radial-gradient(circle at 30% 30%, #ef4444, rgba(239,68,68,0)); }

    .info-card.info-rain{
      background: linear-gradient(135deg, #dbeafe 0%, #ffffff 55%, #dbeafe 100%);
      border-color:#60a5fa;
    }
    .info-card.info-rain::before{ background: radial-gradient(circle at 30% 30%, #3b82f6, rgba(59,130,246,0)); }

    .info-card.info-hilo{
      background: linear-gradient(135deg, #dcfce7 0%, #ffffff 55%, #dcfce7 100%);
      border-color:#34d399;
    }
    .info-card.info-hilo::before{ background: radial-gradient(circle at 30% 30%, #10b981, rgba(16,185,129,0)); }


    .info-card.info-rain{
      background: linear-gradient(135deg, #e0e7ff 0%, #ffffff 55%, #e0e7ff 100%);
      border-color:#818cf8;
    }
    .info-card.info-rain::before{ background: radial-gradient(circle at 30% 30%, #6366f1, rgba(99,102,241,0)); }

    .info-card.info-hilo{
      background: linear-gradient(135deg, #dcfce7 0%, #ffffff 55%, #dcfce7 100%);
      border-color:#4ade80;
    }
    .info-card.info-hilo::before{ background: radial-gradient(circle at 30% 30%, #22c55e, rgba(34,197,94,0)); }

    .info-card > *{ position: relative; } /* keep text above decoration */

    .info-label{
      font-weight: 900;
      font-size: 12px;
      color: inherit;
      opacity: .85;
      margin-bottom: 4px;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .info-value{
      font-weight: 900;
      font-size: 18px;
      line-height: 1.2;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .wx{
      display:flex; gap:6px; align-items:center;
      font-weight:900;
      min-width: 0;
    }
    .wx-emoji{ font-size: 18px; }

    .shift-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--wb-gap);
      min-height: 0;
      min-width: 0;
    }

    .field-title{
      display:flex; justify-content:space-between; align-items:center;
      font-weight: 900;
      margin-bottom: 6px;
    }
    .field-title .hint{ font-weight:700; font-size:12px; color: var(--wb-muted); }

    textarea.wb-text{
      width:100%;
      height: calc(100% - 26px);
      min-height: 120px;
      border: 1px solid var(--wb-border);
      border-radius: 10px;
      padding: 10px;
      resize:none;
      background:#fff;
      font-size: 18px;            /* v4.7ï¼šæ•´é«”å­—é«”æ”¾å¤§ */
      line-height: 1.6;
      min-width: 0;
      max-width: 100%;
    }

    /* ä¸ŠåŠå³å´å‚™è¨» */
    .notes{ align-self:start; }
    .notes textarea.wb-text{ min-height: 140px; height: 140px; }

    /* ä¸‹åŠï¼š0.5/3 | 2/3 | 0.5/3  */
    .lower{
      display:grid;
      grid-template-columns: 0.5fr 2fr 0.5fr;
      gap: var(--wb-gap);
      min-height: 0;
      min-width: 0;
    }
    .lower .panel{ background:#fff; }

    .subpanel{
      border: 1px dashed var(--wb-border);
      border-radius: 10px;
      padding: 8px;
      background:#f9fafb;
      min-height: 0;
      min-width: 0;
      overflow: hidden; /* é¿å…å­å…ƒç´ æ’çˆ† */
    }
    .subpanel + .subpanel{ margin-top: 8px; }

    .pill-list{ display:flex; flex-wrap:wrap; gap:8px; min-width:0; }
    .pill{
      border: 1px solid var(--wb-pill-border);
      background: var(--wb-pill);
      border-radius: 10px;
      padding: 6px 10px;
      font-weight: 800;
      font-size: 13px;
      display:flex;
      gap:8px;
      align-items:center;
      white-space:nowrap;
      max-width: 100%;
    }
    .pill > span:first-child{
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 100%;
    }
    .pill .x{ cursor:pointer; font-weight:900; color:#374151; }
    .pill .x:hover{ color:#111; }

    /* æ¢è¦–ï¼šåˆ—é«˜ä¿®æ­£ï¼ˆv4.7 compactï¼‰ */
    .visit-grid{
      display:grid;
      grid-template-rows: auto;
      gap:8px;
      
      min-height: 0;
      min-width: 0;
      overflow-y: auto;
    }
    .visit-row{
      display:grid;
      height:40px;
      grid-template-columns: 80px minmax(0, 1fr);
      gap:8px;
      align-items:stretch;
      min-height: 0;
      min-width: 0;
    }
    .visit-time{
      font-weight: 900;
      height:40px;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      border:1px solid var(--wb-border);
      border-radius:10px;
      background:#f9fafb;
      min-width: 0;
    }
    .visit-row textarea{
      height:40px;
      min-height:40px;
      width: 100%;
      max-width: 100%;
      min-width: 0;
      padding:6px 10px;
      font-size:16px;
      resize:none;
      overflow:auto;
    }

    /* å…¨è¢å¹•åªè®€ */
    .readonly textarea,
    .readonly input,
    .readonly select,
    .readonly button[data-edit="1"]{
      pointer-events:none !important;
      filter: grayscale(.2);
      opacity: .92;
    }
    .readonly .pill .x{ display:none; }

    /* v4.7ï¼šéå…¨è¢å¹•å¯æ»¾å‹•ï¼Œé¿å…æ“ å£“ */
    #boardRoot{
      max-height: calc(100vh - 90px);
      padding:6px 10px;
      font-size:16px;
      resize:none;
      overflow:auto;
      padding-bottom: 12px;
    }
    #boardRoot:fullscreen{
      max-height: none;
      overflow: hidden;
    }

    /* æ—©/åˆ/å‚™è¨»å†æ”¾å¤§ï¼ˆä½ èªªå¯ä»¥æ›´å¤§ï¼‰ */
    #morningText, #noonText{ font-size: 28px !important; line-height: 1.6 !important; }
    #notesText{ font-size: 26px !important; line-height: 1.6 !important; }

    /* ===== v4.9 å¤œç­æ·±è‰²æ¨¡å¼ï¼ˆ20:00-06:00 è‡ªå‹•ï¼‰ ===== */
    body.night-mode{ background:#0b1220; color:#e5e7eb; }

    body.night-mode .board{
      background:#0f172a;
      border-color:#334155;
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
    }
    body.night-mode .panel{
      background:#111827;
      border-color:#334155;
    }
    body.night-mode .subpanel{
      background:#0f172a;
      border-color:#334155;
    }
    body.night-mode textarea,
    body.night-mode input,
    body.night-mode select{
      background:#0b1220 !important;
      color:#e5e7eb !important;
      border-color:#334155 !important;
    }
    body.night-mode .field-title .hint,
    body.night-mode .text-muted{ color:#9ca3af !important; }

    body.night-mode .visit-time{ background:#0f172a; border-color:#334155; }
    body.night-mode .pill{
      background:#1f2937;
      border-color:#334155;
      color:#e5e7eb;
    }

    /* å¤œç­è³‡è¨Šå¡ï¼šæ›´æ·±ã€æ›´ä¸åˆºçœ¼ */
    body.night-mode .info-card{
      color:#e5e7eb;
      border-color:#334155;
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
    }
    body.night-mode .info-card::after{ opacity:.18; }
    body.night-mode .info-card.info-date{ background: linear-gradient(135deg,#0b3a5a,#0f172a 60%,#0b3a5a); }
    body.night-mode .info-card.info-time{ background: linear-gradient(135deg,#2b1b5a,#0f172a 60%,#2b1b5a); }
    body.night-mode .info-card.info-weather{ background: linear-gradient(135deg,#5a3a0b,#0f172a 60%,#5a3a0b); }
    body.night-mode .info-card.info-temp{ background: linear-gradient(135deg,#5a0b0b,#0f172a 60%,#5a0b0b); }
    body.night-mode .info-card.info-rain{ background: linear-gradient(135deg,#0b2a5a,#0f172a 60%,#0b2a5a); }
    body.night-mode .info-card.info-hilo{ background: linear-gradient(135deg,#0b5a2a,#0f172a 60%,#0b5a2a); }


    body.night-mode .info-card.info-rain{ background: linear-gradient(135deg,#1a2a5a,#0f172a 60%,#1a2a5a); }
    body.night-mode .info-card.info-hilo{ background: linear-gradient(135deg,#0b5a2a,#0f172a 60%,#0b5a2a); }

    /* RWD */
    @media (max-width: 992px){
      .upper{ grid-template-columns: 1fr; grid-template-rows: auto auto auto; grid-template-areas:"info" "left" "notes"; }
      .lower{ grid-template-columns: 1fr; }
      .shift-grid{ grid-template-columns: 1fr; }
      .info-strip{ grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    @media (max-width: 576px){
      .wb-actions{ gap:6px; }
      .wb-actions .form-control{ width: 150px; }
      .info-strip{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    /* ===== v4.9.1 Night readability + layout polish ===== */

    /* å¤œç­ï¼šæ¨™é¡Œï¼ˆæ—©/åˆ/å‚™è¨»/æ¢è¦–ç­‰ï¼‰æ–‡å­—é¡è‰² */
    body.night-mode .field-title span:first-child{
      color:#f9fafb !important;
    }
    body.night-mode .field-title .hint{
      color:#9ca3af !important;
    }

    /* ä¸Šæ–¹è³‡è¨Šæ–¹å¡Šï¼šæ›´å¤§ã€æ›´åƒçœ‹æ¿ */
    .info-strip{ gap: 16px; }
    .info-card{ padding: 14px 16px; border-radius: 16px; }
    .info-label{ font-size: 13px; margin-bottom: 6px; }
    .info-value{ font-size: 24px; }
    .wx-emoji{ font-size: 24px; }

    /* æ—©/åˆï¼šåˆ—é«˜æ›´å°ã€å­—ç¨å¤§ */
    #morningText, #noonText{
      font-size: 30px !important;
      line-height: 1.55 !important;
      min-height: 200px !important;
      height: 200px !important;
    }

    /* å‚™è¨»ï¼šå­—å°ä¸€é»ï¼ˆä¸æ”¹æ¡†å¤§å°ï¼‰ */
    #notesText{
      font-size: 20px !important;
      line-height: 1.6 !important;
    }

    /* å¤œç­ï¼šæŠŠå¯èƒ½è¢« inline ç™½åº•å½±éŸ¿çš„ panel å¼·åˆ¶è½‰æš— */
    body.night-mode .shift-grid .panel,
    body.night-mode .notes.panel{
      background:#111827 !important;
      border-color:#334155 !important;
    }

  
    /* ===== v4.9.2 FIX: æ—©/åˆè¼¸å…¥å€æ’æ»¿æ•´æ ¼ï¼ˆä¸è¦ç¸®å°å¯æ‰“å­—ç¯„åœï¼‰ ===== */
    .shift-grid .panel{
      display:flex;
      flex-direction:column;
    }
    /* è®“æ—©/åˆ textarea æ’æ»¿å‰©é¤˜é«˜åº¦ */
    #morningText, #noonText{
      flex:1 !important;
      min-height:0 !important;
      height:auto !important;   /* è¦†è“‹å…ˆå‰å›ºå®š 200px */
      font-size: 32px !important; /* æ—©åˆå…§å®¹å†å¤§ä¸€é»é» */
      line-height: 1.55 !important;
    }
    /* å‚™è¨»å…§å®¹å­—å°ä¸€é» */
    #notesText{
      font-size: 18px !important;
      line-height: 1.6 !important;
    }

  
    /* ===== v4.9.7: Info icons + smooth theme transition ===== */
    .info-with-icon{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      min-width:0;
    }
    .info-icon{
      flex:0 0 auto;
      font-size: 20px;
      line-height: 1;
      opacity: .95;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,.18));
      user-select:none;
    }

    /* Smooth transition when switching day/night */
    body, .board, .panel, .subpanel, .info-card, textarea, input, select{
      transition:
        background-color .8s ease,
        color .8s ease,
        border-color .8s ease,
        box-shadow .8s ease,
        filter .8s ease;
    }

    /* Reduce motion support */
    @media (prefers-reduced-motion: reduce){
      body, .board, .panel, .subpanel, .info-card, textarea, input, select{
        transition: none !important;
      }
    }

  </style>
</head>

<body>
  <div class="wb-wrap">
    <div class="wb-topbar">
      <div class="d-flex align-items-center gap-2 flex-wrap">
      <a href="admin.html?view=dashboard" class="btn btn-secondary btn-sm" style="font-weight:800;">
        â† è¿”å›è­·ç†å¸«å„€è¡¨æ¿
      </a>
      <div class="wb-title">é›»å­ç™½æ¿</div>
    </div>

      <div class="wb-actions">
        <input type="date" id="boardDate" class="form-control" />
        <button class="btn btn-outline-secondary btn-sm" id="btnToday">ä»Šå¤©</button>
        <button class="btn btn-outline-secondary btn-sm" id="btnSettings" data-edit="1">è¨­å®š</button>
        <button class="btn btn-primary btn-sm" id="btnSave" data-edit="1">å„²å­˜</button>
        <button class="btn btn-outline-primary btn-sm" id="btnFullscreen">å…¨è¢å¹•</button>
        <span class="text-muted small" id="saveHint">â€”</span>
      </div>
    </div>

    <div class="board" id="boardRoot">
      <div class="board-grid">

        <!-- ä¸ŠåŠ -->
        <div class="upper">

          <!-- ä¸ŠåŠè³‡è¨Šåˆ—ï¼šè·¨å…©æ¬„ï¼ˆé¿å…è¢«å‚™è¨»æ“ å£“ï¼‰ -->
          <div class="panel info-panel">
            <div class="info-strip">
              <div class="info-card info-date">
                <div class="info-label" id="lblDate">æ—¥æœŸ</div>
                <div class="info-value" id="wbDateText">â€”</div>
              </div>
              <div class="info-card info-time">
                <div class="info-label" id="lblTime">æ™‚é–“</div>
                <div class="info-value mono info-with-icon"><span id="wbTimeText">â€”</span><span class="info-icon" id="wbTimeIcon" aria-hidden="true">ğŸ•’</span></div>
              </div>
              <div class="info-card info-weather">
                <div class="info-label" id="lblWeather">å¤©æ°£</div>
                <div class="info-value wx"><span class="wx-emoji" id="wbWxEmoji">â˜€ï¸</span><span id="wbWxText">â€”</span></div>
              </div>
              <div class="info-card info-temp">
                <div class="info-label" id="lblTemp">æº«åº¦</div>
                <div class="info-value info-with-icon"><span id="wbTemp">â€”</span><span class="info-icon" id="wbTempIcon" aria-hidden="true">ğŸŒ¡ï¸</span></div>
              </div>
              <div class="info-card info-rain">
                <div class="info-label" id="lblRain">é™é›¨æ©Ÿç‡</div>
                <div class="info-value info-with-icon"><span id="wbRain">â€”</span><span class="info-icon" id="wbRainIcon" aria-hidden="true">â˜”</span></div>
              </div>
              <div class="info-card info-hilo">
                <div class="info-label" id="lblHiLo">æœ€é«˜/æœ€ä½</div>
                <div class="info-value info-with-icon"><span id="wbHiLo">â€”</span><span class="info-icon" id="wbHiLoIcon" aria-hidden="true">ğŸ“ˆ</span></div>
              </div>

            </div>
          </div>

          <!-- ä¸ŠåŠå·¦ï¼šæ—© / åˆ -->
          <div class="panel upper-left">
            <div class="shift-grid">
<div class="panel h-100">
<div class="field-title"><span>æ—©</span><span class="hint">å¯æ‰“å­—</span></div>
<textarea id="morningText" class="wb-text" data-edit="1"></textarea>
</div>
<div class="panel h-100">
<div class="field-title"><span>åˆ</span><span class="hint">å¯æ‰“å­—</span></div>
<textarea id="noonText" class="wb-text" data-edit="1"></textarea>
</div>
</div>
          </div>

          <!-- ä¸ŠåŠå³ï¼šå‚™è¨» -->
          <div class="panel notes">
            <div class="field-title"><span>å‚™è¨»</span><span class="hint">å¯æ‰“å­—</span></div>
            <textarea id="notesText" class="wb-text" data-edit="1"></textarea>
          </div>
        </div>

        <!-- ä¸‹åŠ -->
        <div class="lower">
          <!-- å·¦ï¼šé å…¥ä½ + å¾…è½‰åºŠ -->
          <div class="panel">
            <div class="subpanel">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="field-title m-0"><span>é å…¥ä½</span><span class="hint">å¯å¤šç­†</span></div>
              </div>
              <div class="pill-list" id="preList"></div>
            </div>

            <div class="subpanel">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="field-title m-0"><span>å¾…è½‰åºŠ</span><span class="hint">å¯å¤šç­†</span></div>
              </div>
              <div class="pill-list" id="moveList"></div>
              <div class="text-muted small mt-2">æ ¼å¼ï¼šåºŠè™Ÿ å§“å(é®ç½©) â®• ç›®æ¨™åºŠ</div>
            </div>
          </div>

          <!-- ä¸­ï¼šæ¢è¦– -->
          <div class="panel">
            <div class="subpanel">
              <div class="d-flex justify-content-between align-items-center">
                <div class="field-title"><span>æ¢è¦–</span><span class="hint">bookings/å¯æ”¹</span></div>
                <button class="btn btn-outline-secondary btn-sm" id="btnAutoVisits" data-edit="1" type="button">å¸¶å…¥</button>
              </div>

              <div class="visit-grid mt-2">
                <div class="visit-row">
                  <div class="visit-time">14:30</div>
                  <textarea class="form-control wb-text" id="visit1430" rows="2" data-edit="1"></textarea>
                </div>
                <div class="visit-row">
                  <div class="visit-time">15:00</div>
                  <textarea class="form-control wb-text" id="visit1500" rows="2" data-edit="1"></textarea>
                </div>
                <div class="visit-row">
                  <div class="visit-time">15:30</div>
                  <textarea class="form-control wb-text" id="visit1530" rows="2" data-edit="1"></textarea>
                </div>
                <div class="visit-row">
                  <div class="visit-time">16:00</div>
                  <textarea class="form-control wb-text" id="visit1600" rows="2" data-edit="1"></textarea>
                </div>
                <div class="visit-row">
                  <div class="visit-time">16:30</div>
                  <textarea class="form-control wb-text" id="visit1630" rows="2" data-edit="1"></textarea>
                </div>
              </div>
            </div>
          </div>

          <!-- å³ï¼šé è§£éš” -->
          <div class="panel">
            <div class="subpanel">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="field-title m-0"><span>é è§£éš”</span><span class="hint">å¯å¤šç­†</span></div>
              </div>
              <div class="pill-list" id="isoList"></div>
            </div>
          </div>
        </div>

      </div><!-- /board-grid -->
    </div><!-- /boardRoot -->
  </div><!-- /wb-wrap -->

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

  <!-- ä½ å°ˆæ¡ˆçš„ firebase-init.jsï¼ˆè«‹ç”¨ä½ ç¾æœ‰çš„é‚£æ”¯ï¼‰ -->
  <script src="firebase-init.js"></script>

  <!-- Bootstrapï¼ˆModal/Tab éœ€è¦ï¼‰ -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>


  <!-- è¨­å®šè¦–çª—ï¼ˆæ–°å¢/ç®¡ç†ï¼šé å…¥ä½ã€å¾…è½‰åºŠã€é è§£éš”ï¼‰ -->
  <div class="modal fade" id="settingsModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">é›»å­ç™½æ¿è¨­å®š</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="tab-pre" data-bs-toggle="tab" data-bs-target="#pane-pre" type="button" role="tab">é å…¥ä½</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-move" data-bs-toggle="tab" data-bs-target="#pane-move" type="button" role="tab">å¾…è½‰åºŠ</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-iso" data-bs-toggle="tab" data-bs-target="#pane-iso" type="button" role="tab">é è§£éš”</button>
            </li>
          </ul>

          <div class="tab-content pt-3">
            <div class="tab-pane fade show active" id="pane-pre" role="tabpanel">
              <div class="row g-2">
                <div class="col-md-4"><input type="date" id="preDate" class="form-control" data-edit="1"></div>
                <div class="col-md-4"><input id="preBed" class="form-control" placeholder="åºŠè™Ÿ(ä¾‹:216-1)" data-edit="1"></div>
                <div class="col-md-4"><input id="preName" class="form-control" placeholder="å§“å" data-edit="1"></div>
              </div>
              <div class="d-flex justify-content-end mt-2">
                <button class="btn btn-success btn-sm" id="btnAddPre" data-edit="1" type="button">æ–°å¢</button>
              </div>
              <hr>
              <div class="pill-list" id="preListModal"></div>
            </div>

            <div class="tab-pane fade" id="pane-move" role="tabpanel">
              <div class="row g-2">
                <div class="col-md-4"><input id="fromBed" class="form-control" placeholder="åŸåºŠ(ä¾‹:216-1)" data-edit="1"></div>
                <div class="col-md-4"><input id="toBed" class="form-control" placeholder="ç›®æ¨™åºŠ(ä¾‹:216-2)" data-edit="1"></div>
                <div class="col-md-12">
                  <select id="residentByBed" class="form-select" data-edit="1">
                    <option value="">ï¼ˆå…ˆè¼¸å…¥åŸåºŠï¼Œè¼‰å…¥ä½æ°‘ï¼‰</option>
                  </select>
                  <div class="text-muted small mt-1">ä½æ°‘å§“åæœƒè‡ªå‹•é®ç½©é¡¯ç¤º</div>
                </div>
              </div>
              <div class="d-flex justify-content-end mt-2">
                <button class="btn btn-success btn-sm" id="btnAddMove" data-edit="1" type="button">æ–°å¢</button>
              </div>
              <hr>
              <div class="pill-list" id="moveListModal"></div>
            </div>

            <div class="tab-pane fade" id="pane-iso" role="tabpanel">
              <div class="row g-2">
                <div class="col-md-4"><input type="date" id="isoDate" class="form-control" data-edit="1"></div>
                <div class="col-md-4"><input id="isoBed" class="form-control" placeholder="åºŠè™Ÿ(ä¾‹:113)" data-edit="1"></div>
                <div class="col-md-4"><input id="isoToBed" class="form-control" placeholder="é åˆ°åºŠ(ä¾‹:216-1)" data-edit="1"></div>
                <div class="col-md-12"><input id="isoName" class="form-control" placeholder="å§“å" data-edit="1"></div>
              </div>
              <div class="d-flex justify-content-end mt-2">
                <button class="btn btn-success btn-sm" id="btnAddIso" data-edit="1" type="button">æ–°å¢</button>
              </div>
              <hr>
              <div class="pill-list" id="isoListModal"></div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <div class="text-muted small me-auto">åˆªé™¤ï¼šä¸»ç•«é¢å°æ–¹æ¡†æŒ‰ Ã—ï¼ˆå…¨è¢å¹•ç„¡æ³•æ“ä½œï¼‰</div>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é—œé–‰</button>
        </div>
      </div>
    </div>
  </div>

  <!-- æœ¬é  JSï¼ˆæ”¾åœ¨ modal ä¹‹å¾Œï¼Œç¢ºä¿ btnAddPre/Move/Iso èƒ½ç¶åˆ°äº‹ä»¶ï¼‰ -->
  <script src="nurse-whiteboard.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>事務系統</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <style>
    body { background:#f5f5f5; font-family:"Noto Sans TC", sans-serif; }

    .header-bar{
      background: linear-gradient(135deg, #2f2f2f, #3c3c3c);
      color:#fff; padding: 24px 0; text-align:center;
    }
    .header-bar h1{ margin:0; font-weight:800; font-size:1.5rem; }

    .wrap{ max-width:1100px; margin:32px auto; padding:0 16px; }

    .panel{
      background:#fff;
      border-radius: 18px;
      box-shadow: 0 2px 12px rgba(0,0,0,.10);
      border: 1px solid rgba(0,0,0,.06);
      padding: 22px;
    }

    .menu-grid{
      display:grid; gap:20px; justify-content:center;
      grid-template-columns: repeat(3, 1fr);
    }
    @media (max-width: 991px){ .menu-grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 576px){ .menu-grid{ grid-template-columns: repeat(1, 1fr);} }

    .menu-item{
      text-decoration:none;
      background:#fff;
      color:#222;
      border-radius:18px;
      text-align:center;
      padding: 26px 12px;
      font-weight:700;
      box-shadow: 0 2px 10px rgba(0,0,0,.10);
      border:1px solid rgba(0,0,0,.06);
      transition: transform .15s ease, box-shadow .15s ease;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      min-height: 150px;
    }
    .menu-item:hover{ transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,.14); }
    .menu-item i{ font-size:2.4rem; margin-bottom: 12px; }
    .menu-desc{ margin-top: 6px; font-size:.9rem; color:#666; font-weight:500; line-height:1.35; }

    footer{ text-align:center; padding: 22px 0; font-size:.9rem; color:#888; }
  </style>
</head>
<body>
  <div class="header-bar">
    <h1>事務系統</h1>
  </div>

  <div class="wrap">

    <!-- 登入區 -->
    <div id="password-section" class="panel mx-auto" style="max-width:720px;">
      <div class="mb-3 fw-bold">請輸入事務系統密碼</div>

      <div class="input-group mb-3">
        <input type="password" id="passwordInput" class="form-control" placeholder="請輸入密碼" />
        <button class="btn btn-primary" id="loginButton">登入</button>
      </div>

      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="privacyCheck" />
        <label class="form-check-label">
          我同意《安泰醫療社團法人附設安泰護理之家服務系統使用協議》
        </label>
      </div>

      <div id="errorMessage" class="alert alert-danger d-none mb-3">密碼錯誤</div>

      <a href="./index.html" data-logout="1" class="btn btn-outline-secondary">
        <i class="fas fa-home me-2"></i>返回首頁
      </a>
    </div>

    <!-- 儀表板 -->
    <div id="dashboard-section" class="d-none">
      <div class="menu-grid">
        <a href="./nutritionist.html" class="menu-item">
          <i class="fas fa-user-md"></i>
          <div>營養師系統</div>
          <div class="menu-desc">餐食 / 管灌</div>
        </a>

        <!-- 之後可在這裡擴充更多事務模組 -->
        <a href="./index.html" data-logout="1" class="menu-item">
          <i class="fas fa-home"></i>
          <div>返回首頁</div>
          <div class="menu-desc">離開事務系統將需要重新登入</div>
        </a>
      </div>

      <div class="text-center mt-4">
        <a class="btn btn-outline-secondary" href="./index.html" data-logout="1">
          <i class="fas fa-home me-2"></i>返回首頁
        </a>
      </div>
    </div>

  </div>

  <footer>© 2025 Copyright. All Rights Reserved.</footer>

  <script src="./affairs.js"></script>
  <script>
    // 點「離開事務系統」時，清除登入狀態（確保下次要重新登入）
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[data-logout="1"]');
      if (!a) return;
      try { sessionStorage.removeItem('affairs_authed'); } catch (_) {}
    });
  </script>
</body>
</html>

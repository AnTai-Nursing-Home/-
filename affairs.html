<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>事務系統</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <style>
    body { background:#f5f5f5; font-family:"Noto Sans TC", sans-serif; }

    /* 讓事務系統版面跟護理師系統一致（card + header + footer） */
    .menu-grid { 
      display: grid;
      gap: 18px;
      justify-content: center;
      grid-template-columns: repeat(4, 1fr);
    }
    @media (max-width: 991px){ .menu-grid{ grid-template-columns: repeat(3, 1fr);} }
    @media (max-width: 768px){ .menu-grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 480px){ .menu-grid{ grid-template-columns: repeat(1, 1fr);} }

    .menu-item{
      text-decoration: none;
      background: #ffffff;
      color: #222;
      border-radius: 16px;
      text-align: center;
      padding: 22px 10px;
      font-weight: 700;
      box-shadow: 0 2px 10px rgba(0,0,0,.10);
      border: 1px solid rgba(0,0,0,.06);
      transition: transform .15s ease, box-shadow .15s ease;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height: 140px;
    }
    .menu-item:hover{
      transform: translateY(-3px);
      box-shadow: 0 6px 18px rgba(0,0,0,.14);
    }
    .menu-item i{ font-size:2.6rem; margin-bottom: 10px; }
    .menu-item-text{ display:block; margin-top: 2px; }
    .menu-desc{ margin-top: 6px; font-size: .9rem; color:#666; font-weight:500; line-height:1.35; }
    .site-footer{ padding:24px 0; text-align:center; color:#6c757d; }
  </style>
</head>

<body>
  <div class="container my-5">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <div class="card shadow">
          <div class="card-header text-center bg-dark text-white">
            <h2 class="m-0">事務系統</h2>
          </div>

          <div class="card-body">

            <!-- 登入區 -->
            <div id="password-section" style="max-width:720px;" class="mx-auto">
              <h5 class="card-title fw-bold">請輸入事務系統密碼</h5>

              <div class="input-group mb-3">
                <input type="password" id="passwordInput" class="form-control" placeholder="請輸入密碼" />
                <button class="btn btn-primary" id="loginButton">登入</button>
              </div>

              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="privacyCheck" />
                <label class="form-check-label">
                  我同意 <a href="privacy-policy.html" target="_blank">《安泰醫療社團法人附設安泰護理之家服務系統使用協議》</a>
                </label>
              </div>

              <div id="errorMessage" class="text-danger d-none">密碼錯誤，請重試！</div>

              <a href="./index.html" data-logout="1" class="btn btn-sm btn-outline-secondary mt-3">
                <i class="fas fa-home me-2"></i>返回首頁
              </a>
            </div>

            <!-- 儀表板 -->
            <div id="dashboard-section" class="d-none">
              <div class="menu-grid">

                <a href="./nutritionist/nutritionist.html" class="menu-item">
                  <i class="fas fa-user-md"></i>
                  <span class="menu-item-text">營養師系統</span>
                  <div class="menu-desc">餐食 / 管灌</div>
                </a>

                <!-- 之後可在這裡擴充更多事務模組 -->
                
              </div>

              <div class="text-center mt-4">
                <a class="btn btn-outline-secondary" href="./index.html" data-logout="1">
                  <i class="fas fa-home me-2"></i>返回首頁
                </a>
              </div>
            </div>

          </div><!-- card-body -->
        </div><!-- card -->
      </div>
    </div>
  </div>

  <footer class="site-footer">
    © 2025 Copyright. All Rights Reserved. 版權所有 翻印必究
  </footer>

  <script src="./affairs.js"></script>
  <script>
    // 點「離開事務系統」時，清除登入狀態（確保下次要重新登入）
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[data-logout="1"]');
      if (!a) return;
      try { sessionStorage.removeItem('affairs_authed'); } catch (_) {}
    });
  </script>
</body>
</html>
